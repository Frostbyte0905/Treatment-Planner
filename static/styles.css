:root{
  --bg:#ffffff;
  --card:#ffffff;
  --ink:#222;
  --muted:#666;
  --border:#e4e4e4;
  --brand:#b30000;         /* deep red */
  --brand-light:#e63946;   /* softer red hover */
  --danger:#d32f2f;
}

*{ box-sizing: border-box; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:var(--ink);
  background:var(--bg);
  line-height:1.45;
}

.site-header{
  background:var(--brand);
  border-bottom:1px solid var(--border);
  padding:1rem 1.25rem;
  color:#fff;
}
.site-header h1{
  margin:0;
  font-size:1.25rem;
  color:#fff;
}

.container{
  max-width:1100px;
  margin:1.25rem auto;
  padding:0 1rem;
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:10px;
  padding:1rem;
  margin-bottom:1rem;
}
h2{ margin:.2rem 0 1rem; font-size:1.15rem; }

.grid{
  display:grid;
  grid-gap:.75rem;
}
.grid.two{
  grid-template-columns: repeat(2, minmax(0,1fr));
}
.grid.five{
  grid-template-columns: 2fr 2fr 1fr 1fr 1fr;
}
.grid.four{
  grid-template-columns: 2fr 2fr 1fr 1fr;
}

/* Wider grid for procedure input so Reason has space */
.grid.reason-row{
  grid-template-columns: 2fr 2fr 1fr 3fr 1fr; /* Procedure | Custom | Tooth | Reason | Cost */
}

@media (max-width:900px){
  .grid.five,
  .grid.four,
  .grid.reason-row{ grid-template-columns: 1fr 1fr; }
}

label span{
  display:block;
  font-size:.85rem;
  color:var(--muted);
  margin-bottom:.25rem;
}
input, select, textarea, button{
  font:inherit;
}
input, select, textarea{
  width:100%;
  padding:.6rem .7rem;
  border:1px solid var(--border);
  border-radius:8px;
  background:#fff;
}
textarea[name="reason[]"]{
  min-height: 2.8rem; /* show multiple lines at a glance */
}
.help{ color:var(--muted); font-size:.9rem; }

.row-actions{
  display:flex;
  gap:.5rem;
  align-items:center;
  margin-top:.5rem;
}

.btn{
  padding:.55rem .9rem;
  border:1px solid var(--border);
  border-radius:8px;
  background:#fff;
  cursor:pointer;
}
.btn.primary{
  background:var(--brand);
  color:#fff;
  border-color:var(--brand);
}
.btn.primary:hover{
  background:var(--brand-light);
  border-color:var(--brand-light);
}
.btn.danger{
  color:#fff;
  background:var(--danger);
  border-color:var(--danger);
  width:2.25rem;
  height:2.25rem;
  line-height:1;
}

.actions{ display:flex; justify-content:flex-end; }

.procedure-row hr{
  border:0;
  border-top:1px dashed var(--border);
  margin:.75rem 0 0;
}

.table-wrap{ overflow:auto; }

/* Column widths via <colgroup> */
.plan-table col.col-proc   { width:16%; }
.plan-table col.col-tooth  { width:10%; }
.plan-table col.col-reason { width:26%; }
.plan-table col.col-cost   { width:10%; }
.plan-table col.col-ins    { width:16%; }
.plan-table col.col-pat    { width:16%; }
.plan-table col.col-month  { width:10%; }

.plan-table{
  width:100%;
  border-collapse: collapse;
  table-layout: auto; /* allow natural wrapping */
}
.plan-table th, .plan-table td{
  border-bottom:1px solid var(--border);
  padding:.6rem .5rem;
  text-align:left;
  vertical-align:top;

  /* keep words intact, but still wrap at spaces */
  word-break: keep-all;
  overflow-wrap: normal;
  hyphens: none;
}

.plan-table thead th{
  background:var(--brand);
  color:#fff;
}
.plan-table tfoot th{
  text-align:right;
  background:#fafafa;
}

/* Reason column readable on final table */
.plan-table th:nth-child(3),
.plan-table td:nth-child(3){
  min-width: 220px;
}

.plan-header{
  display:flex;
  gap:2rem;
  align-items:flex-start;
  margin-bottom:1rem;
  flex-wrap:wrap;
}
.plan-header .tooth-diagram{
  margin-left:auto;
  max-width:260px;   /* subtle size */
}
.plan-header figure{ margin:0; }
.plan-header img{
  width:100%;
  height:auto;
  border:1px solid var(--border);
  border-radius:8px;
  background:#fff;
}
.tag{
  display:inline-block;
  padding:.1rem .35rem;
  font-size:.75rem;
  color:#fff;
  background:var(--danger);
  border-radius:4px;
  margin-left:.35rem;
}

.notes{ margin-top:1rem; }
.disclaimer{ margin-top:.5rem; color:var(--muted); font-size:.9rem;
  word-break: keep-all; overflow-wrap: normal; hyphens: none; }

.print-actions{
  display:flex;
  gap:.5rem;
  margin-top:1rem;
}
a.btn{
  color:#fff;
  background:var(--brand);
  border-color:var(--brand);
  text-decoration:none;
  display:inline-block;
}
a.btn:hover{
  background:var(--brand-light);
  border-color:var(--brand-light);
}

/* No-break utility for short fragments like the parenthetical */
.nowrap{ white-space: nowrap; }

/* Print styles */
@media print {
  /* hide app chrome */
  .site-header, .print-actions, .actions { display:none !important; }

  /* page + background */
  @page { margin: 12mm; }
  body { background:#fff; }

  /* let the table expand; no scrollbars in print */
  .table-wrap { overflow: visible !important; }

  /* keep natural wrapping and same column widths in print */
  .plan-table { table-layout: auto; font-size: 12px; }
  .plan-table th,
  .plan-table td,
  .notes p,
  .disclaimer p {
    word-break: keep-all;
    overflow-wrap: normal;
    hyphens: none;
    white-space: normal;
    padding: .4rem .35rem;
    border-color: #ddd;
  }

  /* same column widths for paper */
  .plan-table col.col-proc   { width:16%; }
  .plan-table col.col-tooth  { width:10%; }
  .plan-table col.col-reason { width:26%; }
  .plan-table col.col-cost   { width:10%; }
  .plan-table col.col-ins    { width:16%; }
  .plan-table col.col-pat    { width:16%; }
  .plan-table col.col-month  { width:10%; }

  /* shrink the diagram a bit and drop caption */
  .plan-header .tooth-diagram { max-width: 200px; }
  .plan-header figcaption { display:none; }

  /* remove extra borders that look heavy on paper */
  .card { border:0; padding:0; }
  .plan-header img { border:0; }
}
